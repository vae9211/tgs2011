如果不想使用新脚本 方法很简单 删除 NewScript目录

新脚本目前是使用 lua  (64位系统的机器 应该不支持新脚本)

NewScript\LuaScriptList.sdb 第一行请使用当前的 必须是 0开始顺序排下去

Npc和怪物 如果想调用新脚本 

请在CreateNpc%d.sdb的notice设定序号(参考LuaScriptList.sdb的序号)时 + 10000
就会使用新脚本
请在CreateMonster%d.sdb的Script设定序号(参考LuaScriptList.sdb的序号)时 + 10000
就会使用新脚本

如 设定调用阴阳师脚本 请设定脚本索引为 10001






提供函数  


--门派的传递值 -----

在OnConfirmGuildMagic里面 需要自己判断各个值范围
例如 
if (MagicData.Speed > 10) or (MagicData.Speed < 5) then  
  return '攻击速度限定 5-10'
end;
居然参考下面这个结构 自行判断
MagicData  = {
              MagicType= 0,  Shape = 0,     EffectColor,
              Speed= 0,      Recovery= 0,   Accuracy= 0,   KeepRecovery = 0, Avoid = 0,
	      DamageBody= 0, DamageHead= 0, DamageArm= 0,  DamageLeg= 0, 
              ArmorBody= 0,  ArmorHead= 0,  ArmorArm= 0,   ArmorLeg= 0,  
              OutPower= 0,   InPower= 0,    MagicPower= 0, Life= 0
             }
LifeData = { 
            DamageBody = 0,   DamageHead = 0,   DamageArm = 0,    DamageLeg = 0,    DamageEnergy = 0, 
            ArmorBody = 0,    ArmorHead = 0,    ArmorArm = 0,     DrmorLeg = 0,     ArmorEnergy = 0,  Armorevalue = 0, 
            AttackSpeed = 0,  Accuracy = 0,     Avoid = 0,        KeepRecovery = 0, Recovery = 0
           } 
ItemData = {
            Name = '', Count =0, Sex = 0, UpGrade = 0, AddType = 0, Kind = 0, LockState = 0, boNotExchange = true,
            WearArr = 0, BoUpGrade = false, Attribute= 1,  EquipSet = 0                   --EquipSet可以用来做套装 
	   }
AckEffect = 
           {
	    100, 30, 7732, 7794, '强击', 
	    50,  30, 7794, 3009, '抵抗', 
	    50,  30, 3009, 7732, '回血', 
	   }


//玩家使用
function OnUserSay(PlayerP, ...)
function OnUserStart(PlayerP)
function OnInputString(PlayerP, ...)
function OnDropItem(PlayerP, MonsterName, ItemData)   如果返回 'true' 就不在调用 monsterdrop.item 设定
function OnConfirmGuildMagic(PlayerP, MagicData)
function OnKilled(PlayerP, Race, KillerName); 传递参数 Race 用 iNum = tointeger(Race); iNum = 1是玩家 3是怪物  KillerName是杀手名字
function OnClick(PlayP, aStr)  点击玩家显示玩家信息  aStr传递的是原始信息 return xxx  xx会被使用
function OnShow(PlayP, aStr);  玩家显示时 aStr传递的是原始信息 return xxx  xx会被使用
function OnGuildOver(PlayerP, aStr); //这个是门派完蛋时触发 PlayerP 是个玩家 aStr是门派名字

function OnMonsterDie(PlayP, aStr)
function OnChallengOver(PlayP, ChallengeP, aStr); //擂台战 有赢家时跳转出来 PlayP, ChallengeP 不是一定有值 要判断

//npc脚本参数
function OnInputString(NpcP, PlayerP, ...)

//物品脚本
function OnDblClick(PlayP, PlayP, ItemIndex); //第3个参数为双击物品的物品栏位置 物品因为是玩家 所以1,2参数都是玩家自己
