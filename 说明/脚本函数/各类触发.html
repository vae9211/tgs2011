<html>

<head>
<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>各类触发函数语句</title>
</head>

<body>

<p><font face="Fixedsys"><font color="#0000FF"><b>Npc,怪物专用 各类触发函数语句</b></font><br>
<br>
<META>
&nbsp;&nbsp;function OnHear(SelfP, SayP, ...); ...是说话内容<br>
<br>
<br>
&nbsp;&nbsp;function OnShow(SelfP, ShowP, ...); ...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnCreate(SelfP, CreateP, ...); ...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnDestroy(SelfP, DestroyP, ...); ...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnDanger(SelfP, ShowP, ...); ...为空<br>
&nbsp;&nbsp;  return 'false'; --返回字符串 'false' 表示伤害失败<br>
&nbsp;&nbsp;end;<br>
<br>
<br>
&nbsp;&nbsp;function OnHit(SelfP, HitP, ...); ...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnBow(SelfP, BowP, ...); ...arg[1]为箭名称<br>
<br>
<br>
&nbsp;&nbsp;function OnDie(SelfP, AckP, ...); ...为空 AckP有可能是nil<br>
<br>
<br>
&nbsp;&nbsp;function OnDieBefore(SelfP, AckP, ...); ...为空 AckP为nil<br>
<br>
<br>
&nbsp;&nbsp;function OnLeftClick(SelfP, OtherP, ...); ...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnDblClick(SelfP, ClickP, ...); ...arg[1]是物品栏索引 SelfP = CliclP, <br>
<br>
<br>
&nbsp;&nbsp;function OnDropItem(SelfP, PickP, ...); 盒子类物品专用 ...arg[1]物品名字<br>
<br>
<br>
&nbsp;&nbsp;function OnChangeState(SelfP, AckP, ...); ...arg[1]为字符串 'die', 'normal' <br>
<br>
<br>
&nbsp;&nbsp;function OnMove(SelfP, MoveP, ...); 跳点类用...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnTimer(SelfP, OtherP, ...); ...arg[1]部分时候为时间 OtherP为空<br>
<br>
<br>
&nbsp;&nbsp;function OnApproach(SelfP, ApproachP, ...); 出现...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnAway(SelfP, AwayP, ...); 离开...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnArrival(SelfP, OtherP, ...); OtherP为空 ...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnGetResult(SelfP, ClickP, ...); Npc专用 菜单返回...arg[1]是返回结果<br>
<br>
<br>
&nbsp;&nbsp;function OnTurnOn(SelfP, OtherP, ...); 盒子类专用 OtherP为空...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnTurnOff(SelfP, OtherP, ...); 盒子类专用 OtherP为空...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnRegen(SelfP, OtherP, ...); 怪物 盒子类专用 OtherP为空...为空<br>
<br>
<br>
&nbsp;&nbsp;function OnGetChangeStep(SelfP, OtherP, ...); Npc类专用...不为空<br>
<br>
<br>
&nbsp;&nbsp;function OnInputString(CmdP, SelfP, ...); Npc类专用...arg[1]输入key， arg[2]是输入字符串<br>
<br>





</META>
</body>

</html>
